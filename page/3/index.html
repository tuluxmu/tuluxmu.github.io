<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.5.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.5.0" />






<meta name="description" content="Front-end engineer。">
<meta property="og:type" content="website">
<meta property="og:title" content="Lucy's Blog">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="Lucy's Blog">
<meta property="og:description" content="Front-end engineer。">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Lucy's Blog">
<meta name="twitter:description" content="Front-end engineer。">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>

  <title> Lucy's Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?your-analytics-id";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>






  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Lucy's Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Stay Hungry</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu menu-left">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            标签
          </a>
        </li>
      

      
      
      
        <li class="menu-item menu-item-search">
          <a href="#" class="st-search-show-outputs">
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'your-swiftype-key','2.0.0');
</script>



    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">

    

    
    

    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/02/01/the-use-of-React-Mixin/" itemprop="url">
                  the use of React Mixin
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-02-01T11:14:57+08:00" content="2016-02-01">
              2016-02-01
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/02/01/the-use-of-React-Mixin/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/02/01/the-use-of-React-Mixin/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#the use of React Mixin</p>
<h2 id="the_function_of_React_Mixin_is_to_include_some_same_function"><a href="#the_function_of_React_Mixin_is_to_include_some_same_function" class="headerlink" title="the function of React Mixin is to include some same function"></a>the function of React Mixin is to include some same function</h2><h2 id="why_we_use_Minxin__3F"><a href="#why_we_use_Minxin__3F" class="headerlink" title="why we use Minxin ?"></a>why we use Minxin ?</h2><p>we know that it is too bad to use same code everywhere.<br>so if we want to add same code in different components,we need pack these codes with Mixin ,and import the place where you nedd.</p>
<h2 id="write_a_sample_of_Mixin"><a href="#write_a_sample_of_Mixin" class="headerlink" title="write a sample of Mixin"></a>write a sample of Mixin</h2><p>if we write an app, and in some cases , we need set attribute Name in different components.<br>Now,we dont need write many getDefaultProps .<br>We can define mixin.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var DefaultNameMixin = &#123;&#10;    getDefaultProps: function () &#123;&#10;        return &#123;name: &#34;Skippy&#34;&#125;;&#10;    &#125;&#10;&#125;;</span><br></pre></td></tr></table></figure>
<p>It is not so special , and it is just a simple object.<br>Include it into React Component.<br>To use mixin,we need add attr Minxins , then we wrap what we write ,and we treat it as a value of that attribute.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var ComponentOne = React.createClass(&#123;&#10;    mixins: [DefaultNameMixin],&#10;    render: function() &#123;&#10;    return &#60;h2&#62;Hello &#123;this.props.name&#125;&#60;/h2&#62;;&#10;    &#125;&#10;&#125;);&#10;&#10;React.renderComponent(&#60;ComponentOne /&#62;, document.body);</span><br></pre></td></tr></table></figure>
<p>##we can use it many times.<br>in other component:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var ComponentTwo = React.createClass(&#123;&#10;    mixins: [DefaultNameMixin],&#10;    render: function () &#123;&#10;        return (&#10;            &#60;div&#62;&#10;                &#60;h4&#62;&#123;this.props.name&#125;&#60;/h4&#62;&#10;                &#60;p&#62;Favorite food: &#123;this.props.food&#125;&#60;/p&#62;&#10;            &#60;/div&#62;&#10;        );&#10;    &#125;&#10;&#125;);</span><br></pre></td></tr></table></figure>
<p>#the life week will be called everytime.<br>if the minxin you write include life week ,dont be worried.<br>you still use them in life week and it will be called.<br>Except for these cases:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">render&#65306;&#21253;&#21547;&#22810;&#20010;render&#26041;&#27861;&#26159;&#19981;&#34892;&#30340;&#12290;React &#20250;&#36305;&#20986;&#24322;&#24120;&#65306;&#10;Uncaught Error: Invariant Violation: ReactCompositeComponentInterface:&#10;You are attempting to define `render` on your component more than once.&#10;This conflict may be due to a mixin.</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var UselessMixin = &#123;&#10;    componentDidMount: function () &#123;&#10;      console.log(&#34;asdas&#34;);&#10;    &#125;&#10;&#125;;&#10;&#10;var LolMixin = &#123;&#10;   mixins: [UselessMixin]&#10;&#125;;&#10;&#10;var PantsOpinion = React.createClass(&#123;&#10;   mixins: [LolMixin],&#10;   render: function () &#123;&#10;       return (&#60;p&#62;I dislike pants&#60;/p&#62;);&#10;   &#125;&#10;&#125;);&#10;&#10;React.renderComponent(&#60;PantsOpinion /&#62;, document.body);</span><br></pre></td></tr></table></figure>
<p>console.log shows asdas.</p>
<p>##array of Mixins.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var DefaultNameMixin = &#123;&#10;    getDefaultProps: function () &#123;&#10;        return &#123;name: &#34;Lizie&#34;&#125;;&#10;    &#125;&#10;&#125;;&#10;&#10;var DefaultFoodMixin = &#123;&#10;    getDefaultProps: function () &#123;&#10;        return &#123;food: &#34;Pancakes&#34;&#125;;&#10;    &#125;&#10;&#125;;&#10;&#10;var ComponentTwo = React.createClass(&#123;&#10;    mixins: [DefaultNameMixin, DefaultFoodMixin],&#10;    render: function () &#123;&#10;        return (&#60;div&#62;&#10;                &#60;h4&#62;&#123;this.props.name&#125;&#60;/h4&#62;&#10;                &#60;p&#62;Favorite food: &#123;this.props.food&#125;&#60;/p&#62;&#10;            &#60;/div&#62;);&#10;    &#125;&#10;&#125;);</span><br></pre></td></tr></table></figure>
<p>Note:<br>if we set Props == State ?<br>it will happen error.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Uncaught Error: Invariant Violation: mergeObjectsWithNoDuplicateKeys():&#10;Tried to merge two objects with the same key: name</span><br></pre></td></tr></table></figure>
<p>if we set same function ?<br>it will happen error.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var LogOnMountMixin = &#123;&#10;    componentDidMount: function () &#123;&#10;        console.log(&#34;mixin mount method&#34;);&#10;        this.logBlah()&#10;    &#125;,&#10;    // add a logBlah method here...&#10;    logBlah: function () &#123;&#10;        console.log(&#34;blah&#34;);&#10;    &#125;&#10;&#125;;&#10;&#10;var MoreLogOnMountMixin = &#123;&#10;    componentDidMount: function () &#123;&#10;        console.log(&#34;another mixin mount method&#34;);&#10;    &#125;,&#10;    // ... and again here.&#10;    logBlah: function () &#123;&#10;        console.log(&#34;something other than blah&#34;);&#10;    &#125;&#10;&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Uncaught Error: Invariant Violation: ReactCompositeComponentInterface:&#10;You are attempting to define `logBlah` on your component more than once.&#10;This conflict may be due to a mixin.</span><br></pre></td></tr></table></figure>
<h1 id="the_order_of_the_life_week"><a href="#the_order_of_the_life_week" class="headerlink" title="the order of the life week."></a>the order of the life week.</h1><p>1st we call is Minxin.<br>2nd we call some function in component.<br>and the order in minxin is from left to right.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var LogOnMountMixin = &#123;&#10;    componentDidMount: function () &#123;&#10;        console.log(&#34;mixin mount method&#34;);&#10;    &#125;&#10;&#125;;&#10;&#10;var MoreLogOnMountMixin = &#123;&#10;    componentDidMount: function () &#123;&#10;        console.log(&#34;another mixin mount method&#34;);&#10;    &#125;&#10;&#125;;&#10;var ComponentOne = React.createClass(&#123;&#10;    mixins: [MoreLogOnMountMixin, LogOnMountMixin],&#10;    componentDidMount: function () &#123;&#10;        console.log(&#34;component one mount method&#34;);&#10;    &#125;,&#10;    ...&#10;&#10;var ComponentTwo = React.createClass(&#123;&#10;    mixins: [LogOnMountMixin, MoreLogOnMountMixin],&#10;    componentDidMount: function () &#123;&#10;        console.log(&#34;component two mount method&#34;);&#10;    &#125;,&#10;    ...</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">another mixin mount method&#10;mixin mount method&#10;component one mount method&#10;&#10;mixin mount method&#10;another mixin mount method&#10;component two mount method</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/02/01/Javascript-中的神器-Promise/" itemprop="url">
                  Javascript 中的神器-Promise
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-02-01T11:12:41+08:00" content="2016-02-01">
              2016-02-01
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/02/01/Javascript-中的神器-Promise/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/02/01/Javascript-中的神器-Promise/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#Javascript 中的神器——Promise</p>
<p>##Promise in js<br><em>回调函数真正的问题在于他剥夺了我们使用 return 和 throw 这些关键字的能力。</em><br>而 Promise 很好地解决了这一切。</p>
<p>##概念<br>ES6 原生提供了 Promise 对象。</p>
<p><em>所谓 Promise，就是一个对象，用来传递异步操作的消息。</em><br>它代表了某个未来才会知道结果的事件（通常是一个异步操作），并且这个事件提供统一的 API，可供进一步处理。</p>
<blockquote>
<p>Promise 对象有以下两个特点。</p>
</blockquote>
<ul>
<li><p>（1）对象的状态不受外界影响。Promise 对象代表一个异步操作，有三种状态：Pending（进行中）、Resolved（已完成，又称 Fulfilled）和 Rejected（已失败）。只有异步操作的结果，可以决定当前是哪一种状态，任何其他操作都无法改变这个状态。这也是 Promise 这个名字的由来，它的英语意思就是「承诺」，表示其他手段无法改变。</p>
</li>
<li><p>（2）一旦状态改变，就不会再变，任何时候都可以得到这个结果。Promise 对象的状态改变，只有两种可能：从 Pending 变为 Resolved 和从 Pending 变为 Rejected。只要这两种情况发生，状态就凝固了，不会再变了，会一直保持这个结果。就算改变已经发生了，你再对 Promise 对象添加回调函数，也会立即得到这个结果。<br><em>这与事件（Event）完全不同，事件的特点是，如果你错过了它，再去监听，是得不到结果的。</em></p>
</li>
</ul>
<p><em>有了 Promise 对象，就可以将异步操作以同步操作的流程表达出来，避免了层层嵌套的回调函数。此外，Promise 对象提供统一的接口，使得控制异步操作更加容易。</em></p>
<p>##Promise 也有一些缺点。</p>
<ul>
<li>首先，无法取消 Promise，一旦新建它就会立即执行，无法中途取消。</li>
<li>其次，如果不设置回调函数，Promise 内部抛出的错误，不会反应到外部。</li>
<li>第三，当处于 Pending 状态时，无法得知目前进展到哪一个阶段（刚刚开始还是即将完成）。<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">var promise = new Promise(function(resolve, reject) &#123;</span><br><span class="line"><span class="keyword">if</span> (/* 异步操作成功 */)&#123;</span><br><span class="line">resolve(value);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">reject(error);</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">promise.then(function(value) &#123;</span><br><span class="line">// success</span><br><span class="line">&#125;, function(value) &#123;</span><br><span class="line">// failure</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>Promise 构造函数接受一个函数作为参数，该函数的两个参数分别是 resolve 方法和 reject 方法。</p>
<blockquote>
<p>如果异步操作成功，则用 resolve 方法将 Promise 对象的状态，从「未完成」变为「成功」（即从 pending 变为 resolved）；</p>
<p>如果异步操作失败，则用 reject 方法将 Promise 对象的状态，从「未完成」变为「失败」（即从 pending 变为 rejected）。</p>
</blockquote>
<p>##基本的 api</p>
<blockquote>
<p>Promise.resolve()<br>Promise.reject()<br>Promise.prototype.then()<br>Promise.prototype.catch()<br>Promise.all() // 所有的完成<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">var p = Promise.all([p1,p2,p3]);</span><br><span class="line">Promise.race() // 竞速，完成一个即可</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>##进阶<br>promises 的奇妙在于给予我们以前的 return 与 throw，每个 Promise 都会提供一个 then() 函数，和一个 catch()，实际上是 then(null, …) 函数，<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">somePromise().then(functoin()&#123;</span><br><span class="line">    // do something</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>我们可以做三件事，</p>
<ul>
<li><ol>
<li>return 另一个 promise</li>
</ol>
</li>
<li><ol>
<li>return 一个同步的值 (或者 undefined)</li>
</ol>
</li>
<li><ol>
<li>throw 一个同步异常 <code>throw new Eror(&#39;&#39;);</code><br>###1. 封装同步与异步代码<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">new Promise(function (resolve, reject) &#123;</span><br><span class="line">resolve(someValue);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
<p>写成</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">Promise.resolve(someValue);</span><br></pre></td></tr></table></figure>
<p>###2. 捕获同步异常<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">new Promise(function (resolve, reject) &#123;</span><br><span class="line">throw new Error(<span class="string">'悲剧了，又出 bug 了'</span>);</span><br><span class="line">&#125;).catch(function(err)&#123;</span><br><span class="line">console.log(err);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>如果是同步代码，可以写成<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">Promise.reject(new Error(<span class="string">"什么鬼"</span>));</span><br></pre></td></tr></table></figure></p>
<p>###3. 多个异常捕获，更加精准的捕获<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">somePromise.then(function() &#123;&#10;return a.b.c.d();&#10;&#125;).catch(TypeError, function(e) &#123;&#10;//If a is defined, will end up here because&#10;//it is a type error to reference property of undefined&#10;&#125;).catch(ReferenceError, function(e) &#123;&#10;//Will end up here if a wasn&#39;t defined at all&#10;&#125;).catch(function(e) &#123;&#10;//Generic catch-the rest, error wasn&#39;t TypeError nor&#10;//ReferenceError&#10;&#125;);</span><br></pre></td></tr></table></figure></p>
<p>###4. 获取两个 Promise 的返回值</p>
<ul>
<li><ol>
<li>.then 方式顺序调用</li>
</ol>
</li>
<li><ol>
<li>设定更高层的作用域</li>
</ol>
</li>
<li><ol>
<li>spread<br>###5. finally<br>任何情况下都会执行的，一般写在 catch 之后<br>###6. bind<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">somethingAsync().bind(&#123;&#125;)&#10;.spread(function (aValue, bValue) &#123;&#10;this.aValue = aValue;&#10;this.bValue = bValue;&#10;return somethingElseAsync(aValue, bValue);&#10;&#125;)&#10;.then(function (cValue) &#123;&#10;     return this.aValue + this.bValue + cValue;&#10;&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
<p>或者 你也可以这样<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var scope = &#123;&#125;;&#10;somethingAsync()&#10;.spread(function (aValue, bValue) &#123;&#10;scope.aValue = aValue;&#10;scope.bValue = bValue;&#10;return somethingElseAsync(aValue, bValue);&#10;&#125;)&#10;.then(function (cValue) &#123;&#10;return scope.aValue + scope.bValue + cValue;&#10;&#125;);</span><br></pre></td></tr></table></figure></p>
<p>然而，这有非常多的区别，</p>
<p>你必须先声明，有<em>浪费资源</em>和<em>内存泄露的风险</em><br>不能用于放在一个表达式的上下文中<br>效率更低</p>
<p>###7. all。非常用于于处理一个动态大小均匀的 Promise 列表</p>
<p>###8. join。非常适用于处理多个分离的 Promise<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var join = Promise.join;&#10;join(getPictures(), getComments(), getTweets(),&#10;function(pictures, comments, tweets) &#123;&#10;console.log(&#34;in total: &#34; + pictures.length + comments.length + tweets.length);&#10;&#125;);</span><br></pre></td></tr></table></figure></p>
<p>###9. props。处理一个 promise 的 map 集合。只有有一个失败，所有的执行都结束<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Promise.props(&#123;&#10;pictures: getPictures(),&#10;comments: getComments(),&#10;tweets: getTweets()&#10;&#125;).then(function(result) &#123;&#10;console.log(result.tweets, result.pictures, result.comments);&#10;&#125;);</span><br></pre></td></tr></table></figure></p>
<p>###10. any 、some、race<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Promise.some([&#10;ping(&#34;ns1.example.com&#34;),&#10;ping(&#34;ns2.example.com&#34;),&#10;ping(&#34;ns3.example.com&#34;),&#10;ping(&#34;ns4.example.com&#34;)&#10;], 2).spread(function(first, second) &#123;&#10;console.log(first, second);&#10;&#125;).catch(AggregateError, function(err) &#123;&#10;err.forEach(function(e) &#123;&#10;console.error(e.stack);&#10;&#125;);&#10;&#125;);;</span><br></pre></td></tr></table></figure></p>
<p>有可能，失败的 promise 比较多，导致，Promsie 永远不会 fulfilled</p>

          
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/02/01/webpack学习resources-3/" itemprop="url">
                  webpack学习resources-3
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-02-01T11:08:34+08:00" content="2016-02-01">
              2016-02-01
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/02/01/webpack学习resources-3/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/02/01/webpack学习resources-3/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>webpack-howto</p>
<p>Goal of this guide</p>
<p>This is a cookbook of how to get things done with webpack. This includes most things we use at Instagram and nothing we don’t use.</p>
<p>My advice: start with this as your webpack docs, then look at the official docs for clarification.</p>
<p>Prerequisites</p>
<ul>
<li>You know browserify, RequireJS or something similar</li>
<li>You see the value in:<ul>
<li>Bundle splitting</li>
<li>Async loading</li>
<li>Packaging static assets like images and CSS</li>
</ul>
</li>
</ul>
<ol>
<li>Why webpack?</li>
</ol>
<ul>
<li><p>It’s like browserify but can split your app into multiple files. If you have multiple pages in a single-page app, the user only downloads code for just that page. If they go to another page, they don’t redownload common code.</p>
</li>
<li><p>It often replaces grunt or gulp because it can build and bundle CSS, preprocessed CSS, compile-to-JS languages and images, among other things.</p>
</li>
</ul>
<p>It supports AMD and CommonJS, among other module systems (Angular, ES6). If you don’t know what to use, use CommonJS.</p>
<ol>
<li>Webpack for Browserify people</li>
</ol>
<p>These are equivalent:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">browserify main.js &#62; bundle.js&#10;&#10;&#10;&#10;webpack main.js bundle.js</span><br></pre></td></tr></table></figure>
<p>However, webpack is more powerful than Browserify, so you generally want to make a webpack.config.js to keep things organized:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// webpack.config.js&#10;module.exports = &#123;&#10;  entry: &#39;./main.js&#39;,&#10;  output: &#123;&#10;    filename: &#39;bundle.js&#39;&#10;  &#125;&#10;&#125;;</span><br></pre></td></tr></table></figure>
<p>This is just JS, so feel free to put Real Code in there.</p>
<ol>
<li>How to invoke webpack</li>
</ol>
<p>Switch to the directory containing webpack.config.js and run:</p>
<ul>
<li>webpack for building once for development</li>
<li>webpack -p for building once for production (minification)</li>
<li>webpack –watch for continuous incremental build in development (fast!)</li>
<li>webpack -d to include source maps</li>
</ul>
<ol>
<li>Compile-to-JS languages</li>
</ol>
<p>webpack’s equivalent of browserify transforms and RequireJS plugins is a loader. Here’s how you can teach webpack to load CoffeeScript and Facebook JSX+ES6 support (you must npm install babel-loader coffee-loader):</p>
<p>See also the babel-loader installation instructions for additional dependencies (tl;dr run npm install babel-core babel-preset-es2015 babel-preset-react).</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// webpack.config.js&#10;module.exports = &#123;&#10;  entry: &#39;./main.js&#39;,&#10;  output: &#123;&#10;    filename: &#39;bundle.js&#39;&#10;  &#125;,&#10;  module: &#123;&#10;    loaders: [&#10;      &#123; test: /\.coffee$/, loader: &#39;coffee-loader&#39; &#125;,&#10;      &#123;&#10;        test: /\.js$/,&#10;        loader: &#39;babel-loader&#39;,&#10;        query: &#123;&#10;          presets: [&#39;es2015&#39;, &#39;react&#39;]&#10;        &#125;&#10;      &#125;&#10;    ]&#10;  &#125;&#10;&#125;;</span><br></pre></td></tr></table></figure>
<p>To enable requiring files without specifying the extension, you must add a resolve.extensions parameter specifying which files webpack searches for:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// webpack.config.js&#10;module.exports = &#123;&#10;  entry: &#39;./main.js&#39;,&#10;  output: &#123;&#10;    filename: &#39;bundle.js&#39;&#10;  &#125;,&#10;  module: &#123;&#10;    loaders: [&#10;      &#123; test: /\.coffee$/, loader: &#39;coffee-loader&#39; &#125;,&#10;      &#123;&#10;        test: /\.js$/,&#10;        loader: &#39;babel-loader&#39;,&#10;        query: &#123;&#10;          presets: [&#39;es2015&#39;, &#39;react&#39;]&#10;        &#125;&#10;      &#125;&#10;    ]&#10;  &#125;,&#10;  resolve: &#123;&#10;    // you can now require(&#39;file&#39;) instead of require(&#39;file.coffee&#39;)&#10;    extensions: [&#39;&#39;, &#39;.js&#39;, &#39;.json&#39;, &#39;.coffee&#39;]&#10;  &#125;&#10;&#125;;</span><br></pre></td></tr></table></figure>
<ol>
<li>Stylesheets and images</li>
</ol>
<p>First update your code to require() your static assets (named as they would with node’s require()):</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">require(&#39;./bootstrap.css&#39;);&#10;require(&#39;./myapp.less&#39;);&#10;&#10;var img = document.createElement(&#39;img&#39;);&#10;img.src = require(&#39;./glyph.png&#39;);</span><br></pre></td></tr></table></figure>
<p>When you require CSS (or less, etc), webpack inlines the CSS as a string inside the JS bundle and require() will insert a<style> tag into the page. When you require images, webpack inlines a URL to the image into the bundle and returns it from require().</p>
<p>But you need to teach webpack to do this (again, with loaders):</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// webpack.config.js&#10;module.exports = &#123;&#10;  entry: &#39;./main.js&#39;,&#10;  output: &#123;&#10;    path: &#39;./build&#39;, // This is where images AND js will go&#10;    publicPath: &#39;http://mycdn.com/&#39;, // This is used to generate URLs to e.g. images&#10;    filename: &#39;bundle.js&#39;&#10;  &#125;,&#10;  module: &#123;&#10;    loaders: [&#10;      &#123; test: /\.less$/, loader: &#39;style-loader!css-loader!less-loader&#39; &#125;, // use ! to chain loaders&#10;      &#123; test: /\.css$/, loader: &#39;style-loader!css-loader&#39; &#125;,&#10;      &#123;test: /\.(png|jpg)$/, loader: &#39;url-loader?limit=8192&#39;&#125; // inline base64 URLs for &#60;=8k images, direct URLs for the rest&#10;    ]&#10;  &#125;&#10;&#125;;</span><br></pre></td></tr></table></figure>
<ol>
<li>Feature flags</li>
</ol>
<p>We have code we want to gate only to our dev environments (like logging) and our internal dogfooding servers (like unreleased features we’re testing with employees). In your code, refer to magic globals:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">if (__DEV__) &#123;&#10;  console.warn(&#39;Extra logging&#39;);&#10;&#125;&#10;// ...&#10;if (__PRERELEASE__) &#123;&#10;  showSecretFeature();&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>Then teach webpack those magic globals:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// webpack.config.js&#10;&#10;// definePlugin takes raw strings and inserts them, so you can put strings of JS if you want.&#10;var definePlugin = new webpack.DefinePlugin(&#123;&#10;  __DEV__: JSON.stringify(JSON.parse(process.env.BUILD_DEV || &#39;true&#39;)),&#10;  __PRERELEASE__: JSON.stringify(JSON.parse(process.env.BUILD_PRERELEASE || &#39;false&#39;))&#10;&#125;);&#10;&#10;module.exports = &#123;&#10;  entry: &#39;./main.js&#39;,&#10;  output: &#123;&#10;    filename: &#39;bundle.js&#39;&#10;  &#125;,&#10;  plugins: [definePlugin]&#10;&#125;;</span><br></pre></td></tr></table></figure>
<p>Then you can build with BUILD_DEV=1 BUILD_PRERELEASE=1 webpack from the console. Note that since webpack -p runs uglify dead-code elimination, anything wrapped in one of these blocks will be stripped out, so you won’t leak secret features or strings.</p>
<ol>
<li>Multiple entrypoints</li>
</ol>
<p>Let’s say you have a profile page and a feed page. You don’t want to make the user download the code for the feed if they just want the profile. So make multiple bundles: create one “main module” (called an entrypoint) per page:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// webpack.config.js&#10;module.exports = &#123;&#10;  entry: &#123;&#10;    Profile: &#39;./profile.js&#39;,&#10;    Feed: &#39;./feed.js&#39;&#10;  &#125;,&#10;  output: &#123;&#10;    path: &#39;build&#39;,&#10;    filename: &#39;[name].js&#39; // Template based on keys in entry above&#10;  &#125;&#10;&#125;;</span><br></pre></td></tr></table></figure>
<p>For profile, insert <script src="build/Profile.js"></script> into your page. Do a similar thing for feed.</p>
<ol>
<li>Optimizing common code</li>
</ol>
<p>Feed and Profile share a lot in common (like React and the common stylesheets and components). webpack can figure out what they have in common and make a shared bundle that can be cached between pages:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// webpack.config.js&#10;&#10;var webpack = require(&#39;webpack&#39;);&#10;&#10;var commonsPlugin =&#10;  new webpack.optimize.CommonsChunkPlugin(&#39;common.js&#39;);&#10;&#10;module.exports = &#123;&#10;  entry: &#123;&#10;    Profile: &#39;./profile.js&#39;,&#10;    Feed: &#39;./feed.js&#39;&#10;  &#125;,&#10;  output: &#123;&#10;    path: &#39;build&#39;,&#10;    filename: &#39;[name].js&#39; // Template based on keys in entry above&#10;  &#125;,&#10;  plugins: [commonsPlugin]&#10;&#125;;</span><br></pre></td></tr></table></figure>
<p>Add <script src="build/common.js"></script> before the script tag you added in the previous step and enjoy the free caching.</p>
<ol>
<li>Async loading</li>
</ol>
<p>CommonJS is synchronous but webpack provides a way to asynchronously specify dependencies. This is useful for client-side routers, where you want the router on every page, but you don’t want to have to download features until you actually need them.</p>
<p>Specify the split point where you want to load asynchronously. For example:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">if (window.location.pathname === &#39;/feed&#39;) &#123;&#10;  showLoadingState();&#10;  require.ensure([], function() &#123; // this syntax is weird but it works&#10;    hideLoadingState();&#10;    require(&#39;./feed&#39;).show(); // when this function is called, the module is guaranteed to be synchronously available.&#10;  &#125;);&#10;&#125; else if (window.location.pathname === &#39;/profile&#39;) &#123;&#10;  showLoadingState();&#10;  require.ensure([], function() &#123;&#10;    hideLoadingState();&#10;    require(&#39;./profile&#39;).show();&#10;  &#125;);&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>webpack will do the rest and generate extra chunk files and load them for you.</p>
<p>webpack will assume that those files are in your root directory when you load then into a html script tag for example. You can use output.publicPath to configure that.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// webpack.config.js&#10;output: &#123;&#10;    path: &#34;/home/proj/public/assets&#34;, //path to where webpack will build your stuff&#10;    publicPath: &#34;/assets/&#34; //path that will be considered when requiring your files&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>Additional resources</p>
<p>Take a look at a real world example on how a successful team is leveraging webpack: <a href="http://youtu.be/VkTCL6Nqm6Y">http://youtu.be/VkTCL6Nqm6Y</a> This is Pete Hunt at OSCon talking about webpack at Instagram.com</p>
<p>FAQ</p>
<p>webpack doesn’t seem modular</p>
<p>webpack is extremely modular. What makes webpack great is that it lets plugins inject themselves into more places in the build process when compared to alternatives like browserify and requirejs. Many things that may seem built into the core are just plugins that are loaded by default and can be overridden (i.e. the CommonJS require() parser).</p>
</style></p>
          
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/02/01/本地端连接git/" itemprop="url">
                  本地端连接git
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-02-01T11:06:13+08:00" content="2016-02-01">
              2016-02-01
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/02/01/本地端连接git/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/02/01/本地端连接git/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>配置Deployment首先，你需要为自己配置身份信息，打开命令行，然后输入：</p>
<ul>
<li>git config –global user.name “yourname”</li>
<li>git config –global user.email “youremail”</li>
</ul>
<p>同样在_config.yml文件中，找到Deployment，然后按照如下修改：<br>deploy:<br>type: git<br>repo: git@github.com:yourname/yourname.github.io.git<br>branch: master<br>如果使用git方式进行部署，执行npm install hexo-deployer-git –save来安装所需的插件<br>然后在当前目录打开命令行，输入：</p>
<p>###hexo d<br>随后按照提示，分别输入自己的Github账号用户名和密码，开始上传。</p>

          
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/02/01/how-include-gulp-webpack-to-struct-a-multi-page-app-1/" itemprop="url">
                  how-include-gulp+webpack-to-struct-a-multi-page-app-1
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-02-01T11:04:21+08:00" content="2016-02-01">
              2016-02-01
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/02/01/how-include-gulp-webpack-to-struct-a-multi-page-app-1/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/02/01/how-include-gulp-webpack-to-struct-a-multi-page-app-1/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="how_include_gulp_+_webpack_to_struct_a_multi-page_app_1"><a href="#how_include_gulp_+_webpack_to_struct_a_multi-page_app_1" class="headerlink" title="how include gulp + webpack to struct a multi-page app 1"></a>how include gulp + webpack to struct a multi-page app 1</h1><h2 id="when_i_use_GULP_2Cthe_way_of_pack_is_to_wrap_all_the_-js_file_into_a_one__2C_and_all_the_-css_file_into_a_one__2C_and_every_page_just_include_one_-js"><a href="#when_i_use_GULP_2Cthe_way_of_pack_is_to_wrap_all_the_-js_file_into_a_one__2C_and_all_the_-css_file_into_a_one__2C_and_every_page_just_include_one_-js" class="headerlink" title="when i use GULP,the way of pack is to wrap all the .js file into a one , and all the .css file into a one , and every page just include one .js"></a>when i use GULP,the way of pack is to wrap all the .js file into a one , and all the .css file into a one , and every page just include one .js</h2><p>file and one .css file.</p>
<p>this is what we say the style of  /<em>all in one</em>/,the ambition what we de is to decrease the <em>HTTP REQUEST</em>.<br>The way is very convenient for simple project.<br>But a better way to resolve the pack file what we look for is about request merge , just load what we need ,module develop , listening the update of files automatically , and the suporting the combination of pictures.<br>if we do the above things , we can improve the effect of the page.<br>the way to resolve the above Question is four process.<br>1.analyze the front-end static file dependence by tool.<br>2.the page load the entry file by module tool , and combine all dependency files into <em>combo request</em> .<br>3-back-end return <em>combo file</em>, and the browsery cache the module . if we execute the process 2 , just request those files that dont be cached.<br>4-we use <em>dependency analyze </em> and <em>back-end combo </em> to realize load just what we need and request combination.</p>
<p>##the use of webpack<br>webpack is very convenient for React.<br>In React , component can include css or picture straightly , and what we write is just a require sentences and a config of loader.</p>
<p>our project is a multi page item , that is every page is a .html file . and when we visit different page we load different Href.<br>the project derectory is like this:<br>in APP we put .html file.<br>in CSS we put .css file.<br>images we put some .png file.<br>in JS derectory have different folders , some are core file , some are lib file ,and the other are UI components.<br>and the file :MAIN.JS is the entry file.<br>the structure likes this :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#9500;&#9472;&#9472; app&#10;&#9474;   &#9500;&#9472;&#9472; header.inc&#10;&#9474;   &#9500;&#9472;&#9472; help-charge.inc&#10;&#9474;   &#9500;&#9472;&#9472; index.html&#10;&#9474;   &#9500;&#9472;&#9472; news-detail.html&#10;&#9474;   &#9492;&#9472;&#9472; news-list.html&#10;&#9500;&#9472;&#9472; css&#10;&#9474;   &#9500;&#9472;&#9472; icon.less&#10;&#9474;   &#9492;&#9472;&#9472; slider.css&#10;&#9500;&#9472;&#9472; images&#10;&#9492;&#9472;&#9472; js&#10;    &#9500;&#9472;&#9472; core&#10;    &#9500;&#9472;&#9472; lib&#10;    &#9500;&#9472;&#9472; ui&#10;    &#9500;&#9472;&#9472; news-detail.js&#10;    &#9500;&#9472;&#9472; news-list.js&#10;    &#9492;&#9472;&#9472; main.js</span><br></pre></td></tr></table></figure>
<p>the project we just use webpack to deal with the wrap of js , and the other tasks is to gulp.<br>the config like this :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module.exports = &#123;&#10;    devtool: &#34;source-map&#34;,    //&#29983;&#25104;sourcemap,&#20415;&#20110;&#24320;&#21457;&#35843;&#35797;&#10;    entry: getEntry(),         //&#33719;&#21462;&#39033;&#30446;&#20837;&#21475;js&#25991;&#20214;&#10;    output: &#123;&#10;        path: path.join(__dirname, &#34;dist/js/&#34;), //&#25991;&#20214;&#36755;&#20986;&#30446;&#24405;&#10;        publicPath: &#34;dist/js/&#34;,        //&#29992;&#20110;&#37197;&#32622;&#25991;&#20214;&#21457;&#24067;&#36335;&#24452;&#65292;&#22914;CDN&#25110;&#26412;&#22320;&#26381;&#21153;&#22120;&#10;        filename: &#34;[name].js&#34;,        //&#26681;&#25454;&#20837;&#21475;&#25991;&#20214;&#36755;&#20986;&#30340;&#23545;&#24212;&#22810;&#20010;&#25991;&#20214;&#21517;&#10;    &#125;,&#10;    module: &#123;&#10;        //&#21508;&#31181;&#21152;&#36733;&#22120;&#65292;&#21363;&#35753;&#21508;&#31181;&#25991;&#20214;&#26684;&#24335;&#21487;&#29992;require&#24341;&#29992;&#10;        loaders: [&#10;            // &#123; test: /\.css$/, loader: &#34;style-loader!css-loader&#34;&#125;,&#10;            // &#123; test: /\.less$/, loader: &#34;style-loader!csss-loader!less-loader&#34;&#125;&#10;        ]&#10;    &#125;,&#10;    resolve: &#123;&#10;        //&#37197;&#32622;&#21035;&#21517;&#65292;&#22312;&#39033;&#30446;&#20013;&#21487;&#32553;&#20943;&#24341;&#29992;&#36335;&#24452;&#10;        alias: &#123;&#10;            jquery: srcDir + &#34;/js/lib/jquery.min.js&#34;,&#10;            core: srcDir + &#34;/js/core&#34;,&#10;            ui: srcDir + &#34;/js/ui&#34;&#10;        &#125;&#10;    &#125;,&#10;    plugins: [&#10;        //&#25552;&#20379;&#20840;&#23616;&#30340;&#21464;&#37327;&#65292;&#22312;&#27169;&#22359;&#20013;&#20351;&#29992;&#26080;&#38656;&#29992;require&#24341;&#20837;&#10;        new webpack.ProvidePlugin(&#123;&#10;            jQuery: &#34;jquery&#34;,&#10;            $: &#34;jquery&#34;,&#10;            // nie: &#34;nie&#34;&#10;        &#125;),&#10;        //&#23558;&#20844;&#20849;&#20195;&#30721;&#25277;&#31163;&#20986;&#26469;&#21512;&#24182;&#20026;&#19968;&#20010;&#25991;&#20214;&#10;        new CommonsChunkPlugin(&#39;common.js&#39;),&#10;        //js&#25991;&#20214;&#30340;&#21387;&#32553;&#10;        new uglifyJsPlugin(&#123;&#10;            compress: &#123;&#10;                warnings: false&#10;            &#125;&#10;        &#125;)&#10;    ]&#10;&#125;;</span><br></pre></td></tr></table></figure>
<p>config reference document :</p>
<p>the way of packing :<br>the way of packing is that there is a entry file in every page .<br>in File , you can include other modules by REQUIRE , and the webpack will combine all modules into a file.<br>we can use function getEntry to get the entry file .</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function getEntry() &#123;&#10;    var jsPath = path.resolve(srcDir, &#39;js&#39;);&#10;    var dirs = fs.readdirSync(jsPath);&#10;    var matchs = [], files = &#123;&#125;;&#10;    dirs.forEach(function (item) &#123;&#10;        matchs = item.match(/(.+)\.js$/);&#10;        if (matchs) &#123;&#10;            files[matchs[1]] = path.resolve(srcDir, &#39;js&#39;, item);&#10;        &#125;&#10;    &#125;);&#10;    return files;&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>this way will output the absolute path .<br>for example :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">entry&#65306;&#123;&#10;    news-detail: /../Document/project/.../news-detail.js&#10;&#125;&#10;`</span><br></pre></td></tr></table></figure>
<p>then the output file will be created in [output.path] intu [name].js,that is [news-detail.js].<br>the file name will not be changed.<br>the usage of module is to add loaders ,then what the usage of loaders ?<br>if we want to include some js by require , e.g. css / image ,then we need config the loaders .<br>it is very convenient for React ,bucause in Component ,we can use module-css.</p>
<p>resolve 中的alias可以用于定义别名，用过seajs等模块工具的都知道alias的作用，比如我们在这里定义了ui这个别名，那么在模块中想引用ui目录下的文件，就可以直接这样写</p>
<p>require(‘ui/dialog.js’);<br>不用加上前面的更长的文件路径。</p>

          
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/02/01/command-line/" itemprop="url">
                  command-line
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-02-01T11:01:38+08:00" content="2016-02-01">
              2016-02-01
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/02/01/command-line/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/02/01/command-line/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>举例：下列命令包含前三个部分，用于删除 Junk 这个程序。</p>
<p>###michelle$ rm -R /Applications/Junk.app</p>
<p>切换到其他路径和目录</p>
<p>如果你想将当前 command line 会话切换到其他目录，需要用到三个命令：pwd，ls和cd。</p>
<ul>
<li>pwd的含义是“print working directory”，会显示当前目录的绝对路径。</li>
<li>ls的含义是“list directory contents”，它会列出当前目录的内容。这个命令还有其他参数可选。</li>
<li>cd的含义是“change directory”，它会改变当前目录到你指定的目录。如果你不指定，则会返回你的 home folder。</li>
</ul>
<p>编辑文件和文件夹</p>
<p>有许多基础的命令用来编辑文件和文件夹，包括mkdir, cp, mv, rm, rmdir以及vi。下面我们来简要地介绍一下这些命令。</p>
<p>###mkdir</p>
<p>“make diretory”的缩写，用来创建文件夹，语法为mkdir后接新文件夹的目录。可以用-p选项，来一起创建路径中不存在的文件夹（这样你就不用挨层创建了）。</p>
<p>###cp</p>
<p>“copy”的缩写，用来把文件从一处复制到另一处。语法为cp后接原始路径，后接目标路径。如果你想复制整个文件夹和所有内容，需要添加-R选项。如果指定的目标路径不含文件名，则 cp 命令会按原名复制。如果指定的目标路径包括文件名，则会复制为你指定的文件名。如果仅指定新文件名，则会在原处以新名称创建文件副本。注意，系统会自动替换同名文件而不出现提示。</p>
<p>###mv</p>
<p>“move”的缩写，用来移动文件。语法为mv后接原路径，后接新路径。mv 的指定路径规则和 cp 是一样的（没错，如果仅指定新文件名，它就成了重命名命令）。</p>
<p>###rm</p>
<p>“remove”的缩写，会永久删除文件。注意，command-line中没有废纸篓。语法为rm后接文件路径。然而，使用 rm 命令删除的文件有可能可以通过数据恢复工具恢复。如果希望安全删除文件，可以使用srm命令。</p>
<p>###rmdir和rm -R</p>
<p>rmdir是“remove directory”的缩写，这个命令会永久删除文件夹。再强调一遍，CLI 中木有废纸篓。语法为rmdir后接希望删除目录的路径。然而，rmdir 命令无法删除含有任何其他文件的文件夹，所以大多数情形下rmdir命令是不适用的。不过，你可以利用rm添加-R选项来删除文件夹及包含的所有文件。</p>
<p>###vi</p>
<p>代表“visual”（视觉的），然而这个名称相当具有讽刺意味：vi可能是可视化效果最差的文本编辑器了。然而，vi 是 command line 中最常见的文本编辑器。用vi打开文本文件，只需要输入vi后接文件路径即可。Mac OS X 还提供了nano，一个更加现代的文本编辑器。它也更加方便，例如在底部包含了一个作弊小条（=_=），上面有常用的快捷键列表（你就不用背下来它们了）。然而，vi却有时是默认的文本编辑器，所以掌握vi是很有用的。</p>
<p>和less命令类似，vi命令会占用整个 Terminal 空间来显示文件内容。打开后，在“command模式”，vi 会等你输入一些预定义字符来告诉 vi 你想做什么。你也可以使用键盘上的箭头键单纯地浏览文件。你想编辑时，按A开始（会进入编辑模式）。文字会插入到光标处。如果你想保存，需要先退出编辑模式进入 command 模式。方法是按下esc键。回到 command 模式后，按住shift同时按两次Z来保存并退出。如果你不想保存，在 command 模式输入:quit!并按enter</p>
<p>return直接退出。</p>

          
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/02/01/vim编辑器-vim基本命令/" itemprop="url">
                  vim编辑器-vim基本命令
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-02-01T10:59:33+08:00" content="2016-02-01">
              2016-02-01
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/02/01/vim编辑器-vim基本命令/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/02/01/vim编辑器-vim基本命令/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>###vim基本命令</p>
<ul>
<li>vim<br>在命令行中输入vim,进入vim编辑器</li>
<li>i/insert<br>按一下i/insert键,下端显示 –INSERT–<br>插入命令,在vim中可能任意字符都有作用</li>
<li>Esc<br>退出i(插入)命令进行其它命令使用</li>
<li>:r filename<br>读入一个文件内容,并写入到当前编辑器中</li>
<li>:w newfilename<br>将该编辑器中的内容写入到一个新文件中</li>
<li>:w<br>在编辑的过程中保存文件,相当于word中的ctrl+s</li>
<li>:! command<br>暂时离开 vi 到指令列模式下执行 command 的显示结果！<br>例如:!ls<br>在编辑过程中执行shell命令ls</li>
<li>:sh<br>进入shell命令行,执行完命令后ctrl+d退出重新进入vim编辑继续编辑<br>在shell命令下，执行ctrl+l完成清屏</li>
<li>:wq<br>保存文件并退出</li>
<li>ZZ<br>保存文件并退出,同上一个命令,注意大写</li>
<li>:q!<br>强制退出,不保存</li>
<li>:set number或者：set nu<br>使编辑中的文件显示行号</li>
<li>:set nonumber或者：set nonu<br>与上一条命令相反,不显示行号</li>
<li>:help i<br>查看插入命令帮助</li>
<li>u<br>撤消上一步操作</li>
<li>/Fedora<br>查找Fedora字符</li>
<li>:s /Fedora/Redhat<br>将Fedora字符替换为Redhat(只替换在光标所在的行)</li>
<li>dw<br>删除单词<br>dd<br>删除行</li>
<li>o<br>打开空白一行</li>
<li>vim + filename<br>进行文件最后一行进行编辑</li>
<li>vim +n filename<br>进入文件第n行进行编辑</li>
<li>:1,.s/redhat/fedora<br>.号表示当前行,即光标所在行<br>将第1行到当前行(.)第一次出现的redhat字符代替为fedora</li>
<li>:1,.s/redhat/fedora/g<br>将第1行到当前行(.)所有出现的redhat字符代替为fedora,g<br>全局标志</li>
<li>:1,$s/redhat/fedora/g<br>$表示最后一行<br>将第1行到最后一行所有出现的redhat字符代替为fedora</li>
<li>:%s/redhat/fedora/g<br>同上一个命令</li>
<li>:%s/\/fedora/g<br>将第1行到最后一行所有出现的redhat字代替为fedora<br>字,而不是字符</li>
<li>:f<br>显示文件内容,状态等等<br>同ctrl+g命令</li>
<li>:e!<br>当前文件,返回到上次保存<br>:e file<br>切换编辑文件</li>
<li>:n<br>当编辑时有多个文件(比如vim file1 file2)时切换到下一个文件,与:e file<br>结合使用</li>
</ul>

          
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/02/01/webpack学习resources-2/" itemprop="url">
                  webpack学习resources[2]
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-02-01T10:58:22+08:00" content="2016-02-01">
              2016-02-01
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/02/01/webpack学习resources-2/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/02/01/webpack学习resources-2/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>webpack<br>安装Webpack首先得有Node.js</p>
<p>然后通过npm install -g webpack安装webpack，当然也可以通过gulp来处理webpack任务，如果使用gulp的话就npm install –save-dev gulp-webpack</p>
<p>配置Webpack</p>
<p>Webpack的构建过程需要一个配置文件，一个典型的配置文件大概就是这样</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var webpack = require(&#39;webpack&#39;);&#10;var commonsPlugin = new webpack.optimize.CommonsChunkPlugin(&#39;common.js&#39;);&#10;&#10;module.exports = &#123;&#10;    entry: &#123;&#10;        entry1: &#39;./entry/entry1.js&#39;,&#10;        entry2: &#39;./entry/entry2.js&#39;&#10;    &#125;,&#10;    output: &#123;&#10;        path: __dirname,&#10;        filename: &#39;[name].entry.js&#39;&#10;    &#125;,&#10;    resolve: &#123;&#10;        extensions: [&#39;&#39;, &#39;.js&#39;, &#39;.jsx&#39;]&#10;    &#125;,&#10;    module: &#123;&#10;        loaders: [&#123;&#10;            test: /\.js$/,&#10;            loader: &#39;babel-loader&#39;&#10;        &#125;, &#123;&#10;            test: /\.jsx$/,&#10;            loader: &#39;babel-loader!jsx-loader?harmony&#39;&#10;        &#125;]&#10;    &#125;,&#10;    plugins: [commonsPlugin]&#10;&#125;;</span><br></pre></td></tr></table></figure>
<p>这里对Webpack的打包行为做了配置，主要分为几个部分：</p>
<ul>
<li>entry：指定打包的入口文件，每有一个键值对，就是一个入口文件</li>
<li>output：配置打包结果，path定义了输出的文件夹，filename则定义了打包结果文件的名称，filename里面的[name]会由entry中的键（这里是entry1和entry2）替换</li>
<li>resolve：定义了解析模块路径时的配置，常用的就是extensions，可以用来指定模块的后缀，这样在引入模块时就不需要写后缀了，会自动补全</li>
<li>module：定义了对模块的处理逻辑，这里可以用loaders定义了一系列的加载器，以及一些正则。当需要加载的文件匹配test的正则时，就会调用后面的loader对文件进行处理，这正是webpack强大的原因。比如这里定义了凡是.js结尾的文件都是用babel-loader做处理，而.jsx结尾的文件会先经过jsx-loader处理，然后经过babel-loader处理。当然这些loader也需要通过npm install安装</li>
<li>plugins: 这里定义了需要使用的插件，比如commonsPlugin在打包多个入口文件时会提取出公用的部分，生成common.js</li>
</ul>
<p>执行打包</p>
<p>如果通过npm install -g webpack方式安装webpack的话，可以通过命令行直接执行打包命令，比如这样：</p>
<p>$webpack –config webpack.config.js</p>
<p>这样就会读取当前目录下的webpack.config.js作为配置文件执行打包操作</p>

          
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/02/01/Communicate-Between-Components/" itemprop="url">
                  Communicate Between Components
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-02-01T10:55:54+08:00" content="2016-02-01">
              2016-02-01
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/02/01/Communicate-Between-Components/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/02/01/Communicate-Between-Components/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Communicate Between Components<br>For parent-child communication, simply pass props.<br>For child-parent communication: Say your GroceryList component has a list of items generated through an array. When a list item is clicked, you want to display its name:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var GroceryList = React.createClass(&#123;&#10;  handleClick: function(i) &#123;&#10;    console.log(&#39;You clicked: &#39; + this.props.items[i]);&#10;  &#125;,&#10;&#10;  render: function() &#123;&#10;    return (&#10;      &#60;div&#62;&#10;        &#123;this.props.items.map(function(item, i) &#123;&#10;          return (&#10;            &#60;div onClick=&#123;this.handleClick.bind(this, i)&#125; key=&#123;i&#125;&#62;&#123;item&#125;&#60;/div&#62;&#10;          );&#10;        &#125;, this)&#125;&#10;      &#60;/div&#62;&#10;    );&#10;  &#125;&#125;);&#10;&#10;ReactDOM.render(&#10;  &#60;GroceryList items=&#123;[&#39;Apple&#39;, &#39;Banana&#39;, &#39;Cranberry&#39;]&#125; /&#62;, mountNode);</span><br></pre></td></tr></table></figure>
<p>Notice the use of bind(this, arg1, arg2, …): we’re simply passing more arguments tohandleClick. This is not a new React concept; it’s just JavaScript.<br>For communication between two components that don’t have a parent-child relationship, you can set up your own global event system. Subscribe to events in componentDidMount(), unsubscribe in componentWillUnmount(), and call setState() when you receive an event.Flux pattern is one of the possible ways to arrange this.</p>

          
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/02/01/npm常用命令/" itemprop="url">
                  npm常用命令
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-02-01T10:53:39+08:00" content="2016-02-01">
              2016-02-01
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/02/01/npm常用命令/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/02/01/npm常用命令/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>###npm install <name>安装nodejs的依赖包</name></p>
<p>例如npm install express 就会默认安装express的最新版本，也可以通过在后面加版本号的方式安装指定版本，如npm install express@3.0.6</p>
<p>###npm install <name> -g  将包安装到全局环境中</name></p>
<p>但是代码中，直接通过require()的方式是没有办法调用全局安装的包的。全局的安装是供命令行使用的，就好像全局安装了vmarket后，就可以在命令行中直接运行vm命令</p>
<p>###npm install <name> –save  安装的同时，将信息写入package.json中</name></p>
<p>项目路径中如果有package.json文件时，直接使用npm install方法就可以根据dependencies配置安装所有的依赖包</p>
<p>这样代码提交到github时，就不用提交node_modules这个文件夹了。</p>
<p>###npm init  会引导你创建一个package.json文件，包括名称、版本、作者这些信息等</p>
<p>###npm remove <name>移除</name></p>
<p>###npm update <name>更新</name></p>
<p>###npm ls 列出当前安装的了所有包</p>
<p>###npm root 查看当前包的安装路径</p>
<p>###npm root -g  查看全局的包的安装路径</p>
<p>###npm help  帮助，如果要单独查看install命令的帮助，可以使用的npm help install</p>

          
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    

  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="tuluxmu" />
          <p class="site-author-name" itemprop="name">tuluxmu</p>
          <p class="site-description motion-element" itemprop="description">Front-end engineer。</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">33</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            
              <span class="site-state-item-count">0</span>
              <span class="site-state-item-name">分类</span>
              
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">0</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/tuluxmu" target="_blank">
                  
                    <i class="fa fa-globe"></i> github
                  
                </a>
              </span>
            
          
        </div>

        
        
          <div class="cc-license motion-element" itemprop="license">
            <a href="http://creativecommons.org/licenses/by-nc-sa/4.0" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">tuluxmu</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  


  



  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=0.5.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=0.5.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=0.5.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"your-duoshuo-shortname"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
  





  
  

  
  


</body>
</html>
